<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>基础矢量图形</title>
<style type="text/css">
body{
margin: 0;
overflow: hidden;
background: #fff;
}
#map{
position: relative;
height: 510px;
border:1px solid #3473b7;
}

#toolbar {
position: relative;
padding-top: 5px;
padding-bottom: 10px;
}
</style>
<link href='./css/bootstrap.min.css' rel='stylesheet' />
<link href='./css/bootstrap-responsive.min.css' rel='stylesheet' />
<script src = 'D:\supermap_iserver_8.0.1_win64\iClient\forJavaScript\libs/SuperMap.Include.js'></script>
<script type="text/javascript">
var map,layer,pointVector,dataAdded=false,
host = "http://localhost:8081";
url = "http://127.0.0.1:8081/iserver/services/map-world/rest/maps/World";
function init()
{
	mousePosition = new SuperMap.Control.MousePosition({emptyString:"0,0"})
	map = new SuperMap.Map("map",{controls:[
	new SuperMap.Control.Zoom() ,
	new SuperMap.Control.Navigation() ,
	new SuperMap.Control.LayerSwitcher()
	//new SuperMap.Control.geometryTypes()
	]});
	layer= new SuperMap.Layer.TiledDynamicRESTLayer("World", url, null,{maxResolution:"auto"});
	layer.events.on({"layerInitialized":addLayer});
	vector = new SuperMap.Layer.Vector("vector");
	//addData();
}

function addLayer(){

map.addLayers([layer,vector]);
//显示地图范围
map.setCenter(new SuperMap.LonLat(0, 0), 0);
}

function addData()
{
if(!dataAdded)
{
//圆
var centerPoint=new SuperMap.Geometry.Point(0,-0);
var circleP=createCircle(centerPoint,30,256,360,360);
var circleVector= new SuperMap.Feature.Vector(circleP);
circleVector.style={
strokeColor:"#CAFF70",
fillColor:"#C6E2FF",
strokeWidth:2 ,
fillOpacity:0.5
};
vector.addFeatures([circleVector]);
dataAdded=true;
} else{
alert("数据已加载。");
}
}



function removeData()
{ dataAdded =false;
vector.removeAllFeatures();
vector.refresh();
}
</script>
</head>
<body onload="init()" >
<div id="toolbar">
<input type="button" class="btn"value ="加载数据"onclick="addData()"/>
<input type="button" class="btn"value ="移除数据"onclick="removeData()"/>
</div>
<div id="map"></div>

</body>
</html>